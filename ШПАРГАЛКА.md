# ‚ö° –®–ø–∞—Ä–≥–∞–ª–∫–∞ - Saqta TWA

–ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º.

---

## üöÄ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

### –ü–µ—Ä–≤—ã–π —Ä–∞–∑:
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install
cd server && npm install && cd ..

# 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª—ã
cp .env.example .env.local
cp server/.env.example server/.env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã .env!

# 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ë–î
cd server
npx prisma migrate dev --name init
npm run seed  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
cd ..
```

### –ö–∞–∂–¥—ã–π —Ä–∞–∑:
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - –ë—ç–∫–µ–Ω–¥
cd server && npm run dev

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - –§—Ä–æ–Ω—Ç–µ–Ω–¥
npm run dev
```

**URLs:**
- Frontend: http://localhost:5173
- Backend: http://localhost:3001
- Prisma Studio: http://localhost:5555 (cd server && npx prisma studio)

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –û–±–Ω–æ–≤–∏–ª–∏ —Å—Ö–µ–º—É –ë–î:
```bash
cd server
npx prisma migrate dev --name –æ–ø–∏—Å–∞–Ω–∏–µ_–∏–∑–º–µ–Ω–µ–Ω–∏—è
npx prisma generate
```

### –û–±–Ω–æ–≤–∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
cd server && npm install
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ:
```bash
# Ctrl+C –≤ –æ–±–æ–∏—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö
# –ó–∞—Ç–µ–º —Å–Ω–æ–≤–∞:
cd server && npm run dev  # –¢–µ—Ä–º–∏–Ω–∞–ª 1
npm run dev               # –¢–µ—Ä–º–∏–Ω–∞–ª 2
```

---

## üêõ –†–µ—à–µ–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –ø—Ä–æ–±–ª–µ–º

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç:
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å
lsof -i :3001  # –∏–ª–∏ :5173

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill -9 PID
```

### –û—à–∏–±–∫–∞ –ë–î:
```bash
cd server
npx prisma migrate reset  # ‚ö†Ô∏è –£–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!
npx prisma migrate dev
npm run seed
```

### Prisma Client –Ω–µ –Ω–∞–π–¥–µ–Ω:
```bash
cd server
npx prisma generate
```

### –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ:
```bash
# –£–¥–∞–ª–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
rm -rf node_modules server/node_modules
rm package-lock.json server/package-lock.json

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
npm install
cd server && npm install
cd ..

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ë–î
cd server
npx prisma migrate reset
npx prisma migrate dev
npx prisma generate
```

---

## ‚òÅÔ∏è –î–µ–ø–ª–æ–π –Ω–∞ Railway + Vercel

### –ü–µ—Ä–≤—ã–π —Ä–∞–∑:
```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ GitHub
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/username/TWA-Saqta.git
git push -u origin main

# 2. Railway.app
# - Login with GitHub
# - New Project ‚Üí Deploy from GitHub
# - Add PostgreSQL
# - Set Variables (—Å–º. –ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢.md)

# 3. Vercel.com
# - Login with GitHub
# - Import Project
# - Add VITE_API_URL variable
# - Deploy

# 4. BotFather
# - /newapp ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel URL
```

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```bash
git add .
git commit -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
git push

# Railway –∏ Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤—è—Ç—Å—è! ‚ú®
```

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω:
```bash
# –û–ø—Ü–∏—è 1: Railway CLI
railway login
railway link
railway run npx prisma migrate deploy

# –û–ø—Ü–∏—è 2: Web Dashboard
# Railway ‚Üí PostgreSQL ‚Üí Data ‚Üí Query
# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
# Railway
# Dashboard ‚Üí Service ‚Üí Deployments ‚Üí View Logs

# Vercel
# Dashboard ‚Üí Project ‚Üí Deployments ‚Üí View Function Logs
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ë–î:
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
cd server && npx prisma studio

# Railway
# Dashboard ‚Üí PostgreSQL ‚Üí Data ‚Üí Query
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ –≤ Telegram:
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok
brew install ngrok

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å
ngrok http 5173

# 3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL
# 4. BotFather ‚Üí /editapp ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok URL
# 5. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API:
```bash
# –ó–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–≤–µ—Ä–∞
curl http://localhost:3001/health

# –ü–æ–ª—É—á–∏—Ç—å –æ—Ñ—Ñ–µ—Ä—ã
curl http://localhost:3001/api/offers

# –ü—Ä–æ–¥–∞–∫—à–Ω
curl https://–≤–∞—à-backend.up.railway.app/health
```

---

## üì¶ –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω

### Frontend:
```bash
npm run build
npm run preview  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É –ª–æ–∫–∞–ª—å–Ω–æ
```

### Backend:
```bash
cd server
npm run build
node dist/index.js  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É
```

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–æ (.env.local):
```env
VITE_API_URL=http://localhost:3001/api
```

### –õ–æ–∫–∞–ª—å–Ω–æ (server/.env):
```env
DATABASE_URL=postgresql://user:pass@localhost:5432/saqta_dev?schema=public
PORT=3001
NODE_ENV=development
TELEGRAM_BOT_TOKEN=your_bot_token
FRONTEND_URL=http://localhost:5173
```

### –ü—Ä–æ–¥–∞–∫—à–Ω (Railway):
```env
DATABASE_URL=(–∏–∑ PostgreSQL —Å–µ—Ä–≤–∏—Å–∞)
NODE_ENV=production
TELEGRAM_BOT_TOKEN=your_bot_token
FRONTEND_URL=https://twa-saqta.vercel.app
PORT=3001
```

### –ü—Ä–æ–¥–∞–∫—à–Ω (Vercel):
```env
VITE_API_URL=https://–≤–∞—à-backend.up.railway.app/api
```

---

## üéØ –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- üìñ [–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (RU)](./–ó–ê–ü–£–°–ö.md)
- ‚ö° [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (RU)](./–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢.md)
- üéØ [–í–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞ (RU)](./–í–ê–†–ò–ê–ù–¢–´_–ó–ê–ü–£–°–ö–ê.md)
- üìñ [README (EN)](./README.md)
- üöÄ [Deployment (EN)](./DEPLOYMENT.md)

### –°–µ—Ä–≤–∏—Å—ã:
- ü§ñ [BotFather](https://t.me/BotFather)
- ‚òÅÔ∏è [Railway](https://railway.app)
- ‚ö° [Vercel](https://vercel.com)
- üé® [Render](https://render.com)

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- üìä [Prisma Studio](http://localhost:5555)
- üîç [Prisma Docs](https://www.prisma.io/docs)
- üì± [TWA Docs](https://core.telegram.org/bots/webapps)

---

## üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏

### –ë—ã—Å—Ç—Ä–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ë–î:
```bash
cd server && npm run seed
```

### –û—á–∏—Å—Ç–∏—Ç—å –ë–î:
```bash
cd server && npx prisma migrate reset
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î:
```bash
cd server && npx prisma studio
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å lint:
```bash
npm run lint
```

### –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:
```bash
npm run build
```

### Git –∏–≥–Ω–æ—Ä –¥–ª—è .env:
```gitignore
.env
.env.local
.env.production
server/.env
```

---

## üîÑ –¢–∏–ø–∏—á–Ω—ã–π workflow

### 1. –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã:
```bash
git pull
npm install
cd server && npm install && cd ..
cd server && npm run dev &    # –ë—ç–∫–µ–Ω–¥ –≤ —Ñ–æ–Ω–µ
npm run dev                   # –§—Ä–æ–Ω—Ç–µ–Ω–¥
```

### 2. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
```
–î–µ–ª–∞–µ—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ...
–ë—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è ‚ú®
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î:
```bash
cd server && npx prisma studio
# –°–º–æ—Ç—Ä–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```

### 4. –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã:
```bash
# –ò–∑–º–µ–Ω–∏–ª–∏ server/prisma/schema.prisma
cd server
npx prisma migrate dev --name add_new_field
npx prisma generate
```

### 5. –ö–æ–º–º–∏—Ç:
```bash
git add .
git commit -m "feat: –¥–æ–±–∞–≤–∏–ª –Ω–æ–≤–æ–µ –ø–æ–ª–µ"
git push
# Railway + Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤—è—Ç—Å—è!
```

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–¥–∞–∫—à–Ω:
```
–û—Ç–∫—Ä–æ–π—Ç–µ https://t.me/–≤–∞—à_–±–æ—Ç/saqta
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚úÖ
```

---

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç—É —à–ø–∞—Ä–≥–∞–ª–∫—É –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞! üìå**
